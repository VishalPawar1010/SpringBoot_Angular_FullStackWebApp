<div class="container">
  <form class="col-10" style="max-width: 500px; margin: 0 auto" #addProductForm="ngForm">
    <div class="border border-secondary rounded p-3 d-flex flex-column">
      <div class="my-auto">
        <p class="h5 mb-4 text-center">Add new product</p>
      </div>

      <div class="form-group row">
        <label for="productName" class="col-sm-3 col-form-label">Product Name:</label>
        <div class="col-sm-9">
          <input id="productName" type="text" name="productName" required minlength="3" [(ngModel)]="newProductForm.productName"
            #productName="ngModel" class="form-control" pattern="^[A-Z][a-zA-Z]*$" [ngClass]="{
              'is-valid': productName.valid,
              'is-invalid': productName.invalid
            }" />

          <div *ngIf="productName.invalid && (productName.dirty || productName.touched)" class="text-danger">
            <div *ngIf="productName.errors?.['pattern']">
              *Product Name should start with a capital letter and contain only alphabets.
            </div>
            <div *ngIf="productName.errors?.['required'] && productName.touched">
              *Product Name is required.
            </div>
            <div *ngIf="productName.errors?.['minlength'] && productName.touched">
              *Product Name must be at least 3 characters long.
            </div>
          </div>
        </div>
      </div>
      <div class="form-group row">
        <label for="shortDescription" class="col-sm-3 col-form-label">Short Description:</label>
        <div class="col-sm-9">
          <input id="shortDescription" type="text" name="shortDescription" required minlength="3" [(ngModel)]="newProductForm.productName"
            #shortDescription="ngModel" class="form-control" pattern="^[A-Z][a-zA-Z]*$"  [ngClass]="{
              'is-valid': shortDescription.valid,
              'is-invalid': shortDescription.invalid
            }" />

          <div *ngIf="shortDescription.invalid && (shortDescription.dirty || shortDescription.touched)" class="text-danger">
            <div *ngIf="shortDescription.errors?.['pattern']">
              *Product Name should start with a capital letter and contain only alphabets.
            </div>
            <div *ngIf="shortDescription.errors?.['required'] && shortDescription.touched">
              *Product Name is required.
            </div>
            <div *ngIf="shortDescription.errors?.['minlength'] && shortDescription.touched">
              *Product Name must be at least 3 characters long.
            </div>
          </div>
        </div>
      </div>
      <div class="form-group row">
        <label for="fullDescription" class="col-sm-3 col-form-label">Short Description:</label>
        <div class="col-sm-9">
          <input id="fullDescription" type="text" name="fullDescription" required minlength="3" [(ngModel)]="newProductForm.productName"
            #fullDescription="ngModel" class="form-control" pattern="^[A-Z][a-zA-Z]*$"  [ngClass]="{
              'is-valid': fullDescription.valid,
              'is-invalid': fullDescription.invalid
            }" />

          <div *ngIf="fullDescription.invalid && (fullDescription.dirty || fullDescription.touched)" class="text-danger">
            <div *ngIf="fullDescription.errors?.['pattern']">
              *Product Name should start with a capital letter and contain only alphabets.
            </div>
            <div *ngIf="fullDescription.errors?.['required'] && fullDescription.touched">
              *Product Name is required.
            </div>
            <div *ngIf="fullDescription.errors?.['minlength'] && fullDescription.touched">
              *Product Name must be at least 3 characters long.
            </div>
          </div>
        </div>
      </div>
      <div class="form-group mt-3 row">
        <label for="brands" class="col-sm-3 col-form-label">Brands:</label>
        <div class="col-sm-9">
          <select data-live-search="true" id="brandCategory" class="form-select selectpicker " required minlength="1" name="brands" [(ngModel)]="brandID">
            <option class="" *ngFor="let brand of getAllBrands" [value]="brand.id">{{ brand.id }} : {{ brand.brandName }}</option>
          </select>
        </div>
      </div>
 

      <div class="mt-3 text-center d-flex justify-content-between">
        <button class="btn btn-success" [disabled]="addProductForm.invalid" (click)="createProduct(newProductForm)">
          Create Product
        </button>
        <button class="btn btn-primary" routerLink="/products">Cancel</button>
      </div>
    </div>
  </form>
  <div class="mb-4 text-center font-weight-bold">
    <span *ngIf="message" style="color: green;">
      {{ message }}
    </span>

    <span *ngIf="errorMessage" style="color: red;">{{ errorMessage }}</span>
  </div>
</div>